
```


セミの問題で使用する包除原理は、先ほどの倍数の数え上げとは異なるタイプの包除原理です。説明が不足していました。

2種類の包除原理
1. 和集合の要素数を数える包除原理（先ほどの例）
text
|A₁ ∪ A₂ ∪ ... ∪ Aₙ| = 
Σ|Aᵢ| - Σ|Aᵢ ∩ Aⱼ| + Σ|Aᵢ ∩ Aⱼ ∩ Aₖ| - ...
2. ちょうどk個の条件を満たす要素数を数える包除原理（セミの問題）
text
ちょうどM個の条件を満たす要素数 = 
Σ_{j=M}ᴺ [(-1)ʲ⁻ᴹ × C(j, M) × (少なくともj個の条件を満たす要素数)]
セミの問題での適用
セミの問題では「ちょうどM種類のセミが発生する年」を数えたいので、2番目のタイプの包除原理を使用します。

F(k) = 少なくともk種類のセミが発生する年の個数
= すべてのk個のセミの組み合わせについて、LCMの倍数の年の個数の和

求めたい値 = Σ_{k=M}ᴺ [(-1)ᵏ⁻ᴹ × C(k, M) × F(k)]

なぜこの式になるのか？
直感的な説明：

F(M)：少なくともM種類発生する年（ちょうどM種類 + ちょうどM+1種類 + ...）

F(M+1)：少なくともM+1種類発生する年（ちょうどM+1種類 + ちょうどM+2種類 + ...）

「ちょうどM種類」を得るには：

F(M)から「ちょうどM+1種類以上」の分を引く

しかし、F(M+1)をそのまま引くと引きすぎるので調整が必要

この調整が二項係数 C(k, M) と符号 (-1)ᵏ⁻ᴹ で行われる

具体例で確認
N=3, M=2 の場合：

text
ちょうど2種類 = 
  C(2,2)×F(2) - C(3,2)×F(3) + C(4,2)×F(4) - ... 
= 1×F(2) - 3×F(3) + 6×F(4) - ...
ただし、N=3なのでk=3まで：

text
ちょうど2種類 = F(2) - 3×F(3)
この式が、入力例の結果（4回）と一致することを確認できます。

結論: セミの問題では、「ちょうどM個の条件を満たす要素数」を求めるための別の形式の包除原理を使用しているのです。

```
